/* Light-only overrides. Disabled in single-theme mode because html has .charcoal */
html:not(.charcoal) {
  /* Generic chip / pill tokens */
  --pill-radius: 10px;

  /* Success pill (e.g., Active) */
  --pill-success-bg: #e9f7ef;   /* soft green */
  --pill-success-fg: #0f5132;   /* deep green */
  --pill-success-border: #b7e4c7;

  /* Info/secondary pill (e.g., "On Reports", tags) */
  --pill-info-bg: #eef2ff;      /* soft indigo */
  --pill-info-fg: #1e3a8a;      /* deep indigo */
  --pill-info-border: #c7d2fe;

  /* Price pill */
  --pill-price-bg: #fff7e6;     /* soft amber */
  --pill-price-fg: #7a4d00;     /* deep amber/brown */
  --pill-price-border: #fde68a;

  /* Neutral badge (muted chips) */
  --pill-muted-bg: #f5f6f7;
  --pill-muted-fg: #374151;
  --pill-muted-border: #e5e7eb;
}

/* Pills / badges (generic) */
html:not(.charcoal) .vh-pill,
html:not(.charcoal) .vh-badge,
html:not(.charcoal) .vh-chip,
html:not(.charcoal) .status-pill,
html:not(.charcoal) .tag-pill {
  border-radius: var(--pill-radius);
  border: 1px solid var(--pill-muted-border);
  background: var(--pill-muted-bg);
  color: var(--pill-muted-fg) !important;
}

/* Success (Active) */
html:not(.charcoal) .vh-pill--success,
html:not(.charcoal) .status-pill--active {
  background: var(--pill-success-bg) !important;
  color: var(--pill-success-fg) !important;
  border-color: var(--pill-success-border) !important;
}

/* Info/secondary (tags, metadata) */
html:not(.charcoal) .vh-pill--info,
html:not(.charcoal) .vh-chip--info {
  background: var(--pill-info-bg) !important;
  color: var(--pill-info-fg) !important;
  border-color: var(--pill-info-border) !important;
}

/* Price pill */
html:not(.charcoal) .vh-pill--price,
html:not(.charcoal) .price-pill {
  background: var(--pill-price-bg) !important;
  color: var(--pill-price-fg) !important;
  border-color: var(--pill-price-border) !important;
}

/* Dropdown surfaces (Radix/shadcn and native fallbacks) */
html:not(.charcoal) .select-content,
html:not(.charcoal) .dropdown-content,
html:not(.charcoal) .radix-themes__select__content,
html:not(.charcoal) [role="listbox"],
html:not(.charcoal) .vh-menu,
html:not(.charcoal) .vh-dropdown {
  color: #111827 !important;
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
}

/* Dropdown items */
html:not(.charcoal) .select-item,
html:not(.charcoal) .dropdown-item,
html:not(.charcoal) [role="option"] {
  color: #111827 !important;
  background: #ffffff !important;
}
html:not(.charcoal) .select-item[data-highlighted],
html:not(.charcoal) .dropdown-item[data-highlighted],
html:not(.charcoal) [role="option"][data-highlighted="true"] {
  background: #eef2ff !important;
  color: #1e3a8a !important;
}

/* Inputs in light theme */
html:not(.charcoal) input[type="text"],
html:not(.charcoal) input[type="number"],
html:not(.charcoal) input[type="datetime-local"],
html:not(.charcoal) textarea,
html:not(.charcoal) .vh-input,
html:not(.charcoal) .select-trigger {
  border: 1px solid #e5e7eb !important;
  background: #ffffff !important;
  color: #111827 !important;
}

/* Focus states */
html:not(.charcoal) .vh-input:focus,
html:not(.charcoal) .select-trigger:focus {
  outline: 2px solid #c7d2fe;
  outline-offset: 2px;
  border-color: #c7d2fe !important;
}

/* TARGETED FIXES: Override specific Tailwind classes actually used in components */

/* Fix Admin "Active" pills (green) - make them readable in light theme */
html:not(.charcoal) .bg-green-500\/15.text-green-300 {
  background: var(--pill-success-bg) !important;
  color: var(--pill-success-fg) !important;
  border-color: var(--pill-success-border) !important;
}

/* Fix Price pills (yellow/amber) - make them readable in light theme */
html:not(.charcoal) .bg-yellow-500\/20.text-yellow-300 {
  background: var(--pill-price-bg) !important;
  color: var(--pill-price-fg) !important;
  border-color: var(--pill-price-border) !important;
}

/* Alternative approach: Target by text content and background class */
html:not(.charcoal) span.bg-green-500\/15:has-text("Active") {
  background: var(--pill-success-bg) !important;
  color: var(--pill-success-fg) !important;
  border-color: var(--pill-success-border) !important;
}

/* More robust approach: Target common pill patterns */
html:not(.charcoal) span.bg-green-500\/15 {
  background: var(--pill-success-bg) !important;
  color: var(--pill-success-fg) !important;
}

html:not(.charcoal) span.bg-yellow-500\/20 {
  background: var(--pill-price-bg) !important;
  color: var(--pill-price-fg) !important;
}

/* Base pill */
.vh-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  border-radius: 9999px;
  padding: 0.125rem 0.5rem;
  font-weight: 600;
  border: 1px solid var(--pill-br, #e2e8f0);
  background-color: var(--pill-bg, #f1f5f9) !important;
  color: var(--pill-fg, #0f172a) !important;
}

/* Variants */
.vh-pill--success { --pill-bg:#dcfce7; --pill-br:#86efac; --pill-fg:#065f46; }
.vh-pill--info    { --pill-bg:#e0f2fe; --pill-br:#bae6fd; --pill-fg:#075985; }
.vh-pill--price   { --pill-bg:#fff7ed; --pill-br:#fed7aa; --pill-fg:#9a3412; }

/* Charcoal mode safety */
.charcoal .vh-pill { --pill-bg:#1f2937; --pill-br:#334155; --pill-fg:#e2e8f0; }

/* Light mode left nav active */
html:not(.charcoal) [data-sidebar] [aria-current="page"],
html:not(.charcoal) [data-sidebar] [aria-current="true"] {
  background-color: #eef2ff !important;
  color: #1f2937 !important;
  border-radius: 0.5rem;
  font-weight: 700;
}

html:not(.charcoal) [data-sidebar] [role="button"]:hover {
  background-color: #e5e7eb;
}

/* Charcoal buttons */
html.charcoal .vh-btn {
  font-weight: 700;
  border-width: 1px;
}

/* Charcoal inputs */
html.charcoal input:not([type="checkbox"]):not([type="radio"]),
html.charcoal textarea,
html.charcoal select {
  background-color: var(--input) !important;
  color: var(--foreground) !important;
  border-color: var(--border) !important;
}
html.charcoal input::placeholder,
html.charcoal textarea::placeholder {
  color: var(--muted-foreground) !important;
  opacity: 1;
}

/* Charcoal pills */
html.charcoal .vh-pill {
  --pill-bg: #1f2937;
  --pill-br: #334155;
  --pill-fg: #e5e7eb;
  background-color: var(--pill-bg) !important;
  color: var(--pill-fg) !important;
  border-color: var(--pill-br) !important;
}

/* Charcoal download CTA */
html.charcoal [data-cta="download"] {
  background-color: #10b981 !important;
  color: #ffffff !important;
  border-color: #059669 !important;
}
html.charcoal [data-cta="download"]:hover { background-color: #059669 !important; }